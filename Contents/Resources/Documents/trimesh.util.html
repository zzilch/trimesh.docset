
<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>trimesh.util — trimesh 3.8.19 documentation</title>
<link href="_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="_static/custom.css" rel="stylesheet" type="text/css"/>
<!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
<script data-url_root="./" id="documentation_options" src="_static/documentation_options.js" type="text/javascript"></script>
<script src="_static/jquery.js"></script>
<script src="_static/underscore.js"></script>
<script src="_static/doctools.js"></script>
<script src="_static/js/theme.js" type="text/javascript"></script>
<link href="genindex.html" rel="index" title="Index"/>
<link href="search.html" rel="search" title="Search"/>
<link href="trimesh.version.html" rel="next" title="trimesh.version"/>
<link href="trimesh.unwrap.html" rel="prev" title="trimesh.unwrap"/>
</head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a alt="Documentation Home" class="icon icon-home" href="index.html"> trimesh
          

          
          </a>
<div class="version">
                3.8.19
              </div>
<div role="search">
<form action="search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference external" href="http://github.com/mikedh/trimesh">Trimesh On Github</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Advanced Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="trimesh.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="trimesh.exchange.html">trimesh.exchange</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.interfaces.html">trimesh.interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.path.html">trimesh.path</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.ray.html">trimesh.ray</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.resources.html">trimesh.resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.scene.html">trimesh.scene</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.viewer.html">trimesh.viewer</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.visual.html">trimesh.visual</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.voxel.html">trimesh.voxel</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.base.html">trimesh.base</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.boolean.html">trimesh.boolean</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.bounds.html">trimesh.bounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.caching.html">trimesh.caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.collision.html">trimesh.collision</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.comparison.html">trimesh.comparison</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.constants.html">trimesh.constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.convex.html">trimesh.convex</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.creation.html">trimesh.creation</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.curvature.html">trimesh.curvature</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.decomposition.html">trimesh.decomposition</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.exceptions.html">trimesh.exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.geometry.html">trimesh.geometry</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.graph.html">trimesh.graph</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.grouping.html">trimesh.grouping</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.inertia.html">trimesh.inertia</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.integrate.html">trimesh.integrate</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.intersections.html">trimesh.intersections</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.interval.html">trimesh.interval</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.nsphere.html">trimesh.nsphere</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.parent.html">trimesh.parent</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.permutate.html">trimesh.permutate</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.points.html">trimesh.points</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.poses.html">trimesh.poses</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.primitives.html">trimesh.primitives</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.proximity.html">trimesh.proximity</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.registration.html">trimesh.registration</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.remesh.html">trimesh.remesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.rendering.html">trimesh.rendering</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.repair.html">trimesh.repair</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.resolvers.html">trimesh.resolvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.sample.html">trimesh.sample</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.schemas.html">trimesh.schemas</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.smoothing.html">trimesh.smoothing</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.transformations.html">trimesh.transformations</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.triangles.html">trimesh.triangles</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.units.html">trimesh.units</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.unwrap.html">trimesh.unwrap</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">trimesh.util</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#util-py">util.py</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.version.html">trimesh.version</a></li>
<li class="toctree-l2"><a class="reference internal" href="trimesh.html#https-github-com-mikedh-trimesh">https://github.com/mikedh/trimesh</a></li>
</ul>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="index.html">trimesh</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a class="icon icon-home" href="index.html"></a> »</li>
<li><a href="trimesh.html">trimesh</a> »</li>
<li>trimesh.util</li>
<li class="wy-breadcrumbs-aside">
<a class="fa fa-github" href="https://github.com/mikedh/trimesh/blob/master/docs/trimesh.util.rst"> Edit on GitHub</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="module-trimesh.util">
<span id="trimesh-util"></span><h1><a name="//apple_ref/cpp/Module/trimesh.util"></a>trimesh.util<a class="headerlink" href="#module-trimesh.util" title="Permalink to this headline">¶</a></h1>
<div class="section" id="util-py">
<h2>util.py<a class="headerlink" href="#util-py" title="Permalink to this headline">¶</a></h2>
<p>Standalone functions which require only imports from numpy and the
standard library.</p>
<p>Other libraries may be imported must be wrapped in try/except blocks
or imported inside of a function</p>
<p><strong>Classes:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.FunctionRegistry" title="trimesh.util.FunctionRegistry"><code class="xref py py-obj docutils literal notranslate"><span class="pre">FunctionRegistry</span></code></a>(**kwargs)</p></td>
<td><p>Non-overwritable mapping of string keys to functions.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.TemporaryDirectory" title="trimesh.util.TemporaryDirectory"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TemporaryDirectory</span></code></a>()</p></td>
<td><p>Same basic usage as tempfile.TemporaryDirectory but functional in Python 2.7+.</p></td>
</tr>
</tbody>
</table>
<p><strong>Functions:</strong></p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%"/>
<col style="width: 90%"/>
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.allclose" title="trimesh.util.allclose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">allclose</span></code></a>(a, b, atol)</p></td>
<td><p>A replacement for np.allclose that does few checks and validation and as a result is faster.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.append_faces" title="trimesh.util.append_faces"><code class="xref py py-obj docutils literal notranslate"><span class="pre">append_faces</span></code></a>(vertices_seq, faces_seq)</p></td>
<td><p>Given a sequence of zero-indexed faces and vertices combine them into a single array of faces and a single array of vertices.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.array_to_encoded" title="trimesh.util.array_to_encoded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array_to_encoded</span></code></a>(array[, dtype, encoding])</p></td>
<td><p>Export a numpy array to a compact serializable dictionary.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.array_to_string" title="trimesh.util.array_to_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">array_to_string</span></code></a>(array[, col_delim, …])</p></td>
<td><p>Convert a 1 or 2D array into a string with a specified number of digits and delimiter.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.attach_to_log" title="trimesh.util.attach_to_log"><code class="xref py py-obj docutils literal notranslate"><span class="pre">attach_to_log</span></code></a>([level, handler, loggers, …])</p></td>
<td><p>Attach a stream handler to all loggers.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.bounds_tree" title="trimesh.util.bounds_tree"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bounds_tree</span></code></a>(bounds)</p></td>
<td><p>Given a set of axis aligned bounds create an r-tree for broad-phase collision detection.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.comment_strip" title="trimesh.util.comment_strip"><code class="xref py py-obj docutils literal notranslate"><span class="pre">comment_strip</span></code></a>(text[, starts_with, new_line])</p></td>
<td><p>Strip comments from a text block.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.compress" title="trimesh.util.compress"><code class="xref py py-obj docutils literal notranslate"><span class="pre">compress</span></code></a>(info)</p></td>
<td><p>Compress data stored in a dict.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.concatenate" title="trimesh.util.concatenate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">concatenate</span></code></a>(a[, b])</p></td>
<td><p>Concatenate two or more meshes.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.convert_like" title="trimesh.util.convert_like"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_like</span></code></a>(item, like)</p></td>
<td><p>Convert an item to have the dtype of another item</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.decimal_to_digits" title="trimesh.util.decimal_to_digits"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decimal_to_digits</span></code></a>(decimal[, min_digits])</p></td>
<td><p>Return the number of digits to the first nonzero decimal.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.decode_keys" title="trimesh.util.decode_keys"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decode_keys</span></code></a>(store[, encoding])</p></td>
<td><p>If a dictionary has keys that are bytes decode them to a str.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.decode_text" title="trimesh.util.decode_text"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decode_text</span></code></a>(text[, initial])</p></td>
<td><p>Try to decode byte input as a string.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.decompress" title="trimesh.util.decompress"><code class="xref py py-obj docutils literal notranslate"><span class="pre">decompress</span></code></a>(file_obj, file_type)</p></td>
<td><p>Given an open file object and a file type, return all components of the archive as open file objects in a dict.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.diagonal_dot" title="trimesh.util.diagonal_dot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">diagonal_dot</span></code></a>(a, b)</p></td>
<td><p>Dot product by row of a and b.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.distance_to_end" title="trimesh.util.distance_to_end"><code class="xref py py-obj docutils literal notranslate"><span class="pre">distance_to_end</span></code></a>(file_obj)</p></td>
<td><p>For an open file object how far is it to the end</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.encoded_to_array" title="trimesh.util.encoded_to_array"><code class="xref py py-obj docutils literal notranslate"><span class="pre">encoded_to_array</span></code></a>(encoded)</p></td>
<td><p>Turn a dictionary with base64 encoded strings back into a numpy array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.euclidean" title="trimesh.util.euclidean"><code class="xref py py-obj docutils literal notranslate"><span class="pre">euclidean</span></code></a>(a, b)</p></td>
<td><p>Euclidean distance between vectors a and b.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.generate_basis" title="trimesh.util.generate_basis"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_basis</span></code></a>(z)</p></td>
<td><p>Generate an arbitrary basis (also known as a coordinate frame) from a given z-axis vector.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.grid_arange" title="trimesh.util.grid_arange"><code class="xref py py-obj docutils literal notranslate"><span class="pre">grid_arange</span></code></a>(bounds, step)</p></td>
<td><p>Return a grid from an (2,dimension) bounds with samples step distance apart.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.grid_linspace" title="trimesh.util.grid_linspace"><code class="xref py py-obj docutils literal notranslate"><span class="pre">grid_linspace</span></code></a>(bounds, count)</p></td>
<td><p>Return a grid spaced inside a bounding box with edges spaced using np.linspace.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.has_module" title="trimesh.util.has_module"><code class="xref py py-obj docutils literal notranslate"><span class="pre">has_module</span></code></a>(name)</p></td>
<td><p>Check to see if a module is installed by name without actually importing the module.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.hash_file" title="trimesh.util.hash_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">hash_file</span></code></a>(file_obj[, hash_function])</p></td>
<td><p>Get the hash of an open file-like object.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.is_binary_file" title="trimesh.util.is_binary_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_binary_file</span></code></a>(file_obj)</p></td>
<td><p>Returns True if file has non-ASCII characters (&gt; 0x7F, or 127) Should work in both Python 2 and 3</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.is_ccw" title="trimesh.util.is_ccw"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_ccw</span></code></a>(points)</p></td>
<td><p>Check if connected 2D points are counterclockwise.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.is_file" title="trimesh.util.is_file"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_file</span></code></a>(obj)</p></td>
<td><p>Check if an object is file-like</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.is_instance_named" title="trimesh.util.is_instance_named"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_instance_named</span></code></a>(obj, name)</p></td>
<td><p>Given an object, if it is a member of the class ‘name’, or a subclass of ‘name’, return True.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.is_none" title="trimesh.util.is_none"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_none</span></code></a>(obj)</p></td>
<td><p>Check to see if an object is None or not.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.is_pathlib" title="trimesh.util.is_pathlib"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_pathlib</span></code></a>(obj)</p></td>
<td><p>Check if the object is a <cite>pathlib.Path</cite> or subclass.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.is_sequence" title="trimesh.util.is_sequence"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_sequence</span></code></a>(obj)</p></td>
<td><p>Check if an object is a sequence or not.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.is_shape" title="trimesh.util.is_shape"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_shape</span></code></a>(obj, shape[, allow_zeros])</p></td>
<td><p>Compare the shape of a numpy.ndarray to a target shape, with any value less than zero being considered a wildcard</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.is_string" title="trimesh.util.is_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">is_string</span></code></a>(obj)</p></td>
<td><p>Check if an object is a string.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.isclose" title="trimesh.util.isclose"><code class="xref py py-obj docutils literal notranslate"><span class="pre">isclose</span></code></a>(a, b, atol)</p></td>
<td><p>A replacement for np.isclose that does fewer checks and validation and as a result is roughly 4x faster.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.jsonify" title="trimesh.util.jsonify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">jsonify</span></code></a>(obj, **kwargs)</p></td>
<td><p>A version of json.dumps that can handle numpy arrays by creating a custom encoder for numpy dtypes.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.make_sequence" title="trimesh.util.make_sequence"><code class="xref py py-obj docutils literal notranslate"><span class="pre">make_sequence</span></code></a>(obj)</p></td>
<td><p>Given an object, if it is a sequence return, otherwise add it to a length 1 sequence and return.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.md5_object" title="trimesh.util.md5_object"><code class="xref py py-obj docutils literal notranslate"><span class="pre">md5_object</span></code></a>(obj)</p></td>
<td><p>If an object is hashable, return the string of the MD5.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.multi_dict" title="trimesh.util.multi_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">multi_dict</span></code></a>(pairs)</p></td>
<td><p>Given a set of key value pairs, create a dictionary.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.pairwise" title="trimesh.util.pairwise"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pairwise</span></code></a>(iterable)</p></td>
<td><p>For an iterable, group values into pairs.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.row_norm" title="trimesh.util.row_norm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">row_norm</span></code></a>(data)</p></td>
<td><p>Compute the norm per-row of a numpy array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.sigfig_int" title="trimesh.util.sigfig_int"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sigfig_int</span></code></a>(values, sigfig)</p></td>
<td><p>Convert a set of floating point values into integers with a specified number of significant figures and an exponent.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.sigfig_round" title="trimesh.util.sigfig_round"><code class="xref py py-obj docutils literal notranslate"><span class="pre">sigfig_round</span></code></a>(values[, sigfig])</p></td>
<td><p>Round a single value to a specified number of significant figures.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.spherical_to_vector" title="trimesh.util.spherical_to_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">spherical_to_vector</span></code></a>(spherical)</p></td>
<td><p>Convert a set of (n, 2) spherical vectors to (n, 3) vectors</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.split_extension" title="trimesh.util.split_extension"><code class="xref py py-obj docutils literal notranslate"><span class="pre">split_extension</span></code></a>(file_name[, special])</p></td>
<td><p>Find the file extension of a file name, including support for special case multipart file extensions (like .tar.gz)</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.stack_3D" title="trimesh.util.stack_3D"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stack_3D</span></code></a>(points[, return_2D])</p></td>
<td><p>For a list of (n, 2) or (n, 3) points return them as (n, 3) 3D points, 2D points on the XY plane.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.stack_lines" title="trimesh.util.stack_lines"><code class="xref py py-obj docutils literal notranslate"><span class="pre">stack_lines</span></code></a>(indices)</p></td>
<td><p>Stack a list of values that represent a polyline into individual line segments with duplicated consecutive values.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.structured_array_to_string" title="trimesh.util.structured_array_to_string"><code class="xref py py-obj docutils literal notranslate"><span class="pre">structured_array_to_string</span></code></a>(array[, …])</p></td>
<td><p>Convert an unstructured array into a string with a specified number of digits and delimiter.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.submesh" title="trimesh.util.submesh"><code class="xref py py-obj docutils literal notranslate"><span class="pre">submesh</span></code></a>(mesh, faces_sequence[, repair, …])</p></td>
<td><p>Return a subset of a mesh.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.to_ascii" title="trimesh.util.to_ascii"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_ascii</span></code></a>(text)</p></td>
<td><p>Force a string or other to ASCII text ignoring errors.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.tolist" title="trimesh.util.tolist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tolist</span></code></a>(data)</p></td>
<td><p>Ensure that any arrays or dicts passed containing numpy arrays are properly converted to lists</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.triangle_strips_to_faces" title="trimesh.util.triangle_strips_to_faces"><code class="xref py py-obj docutils literal notranslate"><span class="pre">triangle_strips_to_faces</span></code></a>(strips)</p></td>
<td><p>Convert a sequence of triangle strips to (n, 3) faces.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.type_bases" title="trimesh.util.type_bases"><code class="xref py py-obj docutils literal notranslate"><span class="pre">type_bases</span></code></a>(obj[, depth])</p></td>
<td><p>Return the bases of the object passed.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.type_named" title="trimesh.util.type_named"><code class="xref py py-obj docutils literal notranslate"><span class="pre">type_named</span></code></a>(obj, name)</p></td>
<td><p>Similar to the type() builtin, but looks in class bases for named instance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.unique_id" title="trimesh.util.unique_id"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unique_id</span></code></a>([length, increment])</p></td>
<td><p>Generate a decent looking alphanumeric unique identifier.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.unitize" title="trimesh.util.unitize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unitize</span></code></a>(vectors[, check_valid, threshold])</p></td>
<td><p>Unitize a vector or an array or row-vectors.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.vector_hemisphere" title="trimesh.util.vector_hemisphere"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vector_hemisphere</span></code></a>(vectors[, return_sign])</p></td>
<td><p>For a set of 3D vectors alter the sign so they are all in the upper hemisphere.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.vector_to_spherical" title="trimesh.util.vector_to_spherical"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vector_to_spherical</span></code></a>(cartesian)</p></td>
<td><p>Convert a set of cartesian points to (n, 2) spherical unit vectors.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.vstack_empty" title="trimesh.util.vstack_empty"><code class="xref py py-obj docutils literal notranslate"><span class="pre">vstack_empty</span></code></a>(tup)</p></td>
<td><p>A thin wrapper for numpy.vstack that ignores empty lists.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.wrap_as_stream" title="trimesh.util.wrap_as_stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wrap_as_stream</span></code></a>(item)</p></td>
<td><p>Wrap a string or bytes object as a file object.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#trimesh.util.write_encoded" title="trimesh.util.write_encoded"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write_encoded</span></code></a>(file_obj, stuff[, encoding])</p></td>
<td><p>If a file is open in binary mode and a string is passed, encode and write.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#trimesh.util.zero_pad" title="trimesh.util.zero_pad"><code class="xref py py-obj docutils literal notranslate"><span class="pre">zero_pad</span></code></a>(data, count[, right])</p></td>
<td><p><dl class="field-list simple">
<dt class="field-odd">param data</dt>
<dd class="field-odd"><p>1D array</p>
</dd>
</dl>
</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="trimesh.util.FunctionRegistry"><a name="//apple_ref/cpp/Class/trimesh.util.FunctionRegistry"></a>
<em class="property">class </em><code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">FunctionRegistry</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.FunctionRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.Mapping</span></code></p>
<p>Non-overwritable mapping of string keys to functions.</p>
<p>This allows external packages to register additional implementations
of common functionality without risk of breaking implementations provided
by trimesh.</p>
<p>See trimesh.voxel.morphology for example usage.</p>
</dd></dl>
<dl class="py class">
<dt id="trimesh.util.TemporaryDirectory"><a name="//apple_ref/cpp/Class/trimesh.util.TemporaryDirectory"></a>
<em class="property">class </em><code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">TemporaryDirectory</code><a class="headerlink" href="#trimesh.util.TemporaryDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Same basic usage as tempfile.TemporaryDirectory
but functional in Python 2.7+.</p>
<p class="rubric">Example</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>`
with trimesh.util.TemporaryDirectory() as path:</p>
<blockquote>
<div><p>writable = os.path.join(path, ‘hi.txt’)</p>
</div></blockquote>
<p><a href="#id3"><span class="problematic" id="id4">``</span></a><a href="#id5"><span class="problematic" id="id6">`</span></a></p>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.allclose"><a name="//apple_ref/cpp/Function/trimesh.util.allclose"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">allclose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">atol</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.allclose" title="Permalink to this definition">¶</a></dt>
<dd><p>A replacement for np.allclose that does few checks
and validation and as a result is faster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>np.ndarray</em>) – To be compared</p></li>
<li><p><strong>b</strong> (<em>np.ndarray</em>) – To be compared</p></li>
<li><p><strong>atol</strong> (<em>float</em>) – Acceptable distance between <cite>a</cite> and <cite>b</cite> to be “close”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool indicating if all elements are within <cite>atol</cite>.</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.append_faces"><a name="//apple_ref/cpp/Function/trimesh.util.append_faces"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">append_faces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vertices_seq</span></em>, <em class="sig-param"><span class="n">faces_seq</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.append_faces" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a sequence of zero-indexed faces and vertices
combine them into a single array of faces and
a single array of vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertices_seq</strong> (<em>(</em><em>n</em><em>, </em><em>) </em><em>sequence of</em><em> (</em><em>m</em><em>, </em><em>d</em><em>) </em><em>float</em>) – Multiple arrays of verticesvertex arrays</p></li>
<li><p><strong>faces_seq</strong> (<em>(</em><em>n</em><em>, </em><em>) </em><em>sequence of</em><em> (</em><em>p</em><em>, </em><em>j</em><em>) </em><em>int</em>) – Zero indexed faces for matching vertices</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>vertices</strong> (<em>(i, d) float</em>) – Points in space</p></li>
<li><p><strong>faces</strong> (<em>(j, 3) int</em>) – Reference vertex indices</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.array_to_encoded"><a name="//apple_ref/cpp/Function/trimesh.util.array_to_encoded"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">array_to_encoded</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'base64'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.array_to_encoded" title="Permalink to this definition">¶</a></dt>
<dd><p>Export a numpy array to a compact serializable dictionary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>array</em>) – Any numpy array</p></li>
<li><p><strong>dtype</strong> (<em>str</em><em> or </em><em>None</em>) – Optional dtype to encode array</p></li>
<li><p><strong>encoding</strong> (<em>str</em>) – ‘base64’ or ‘binary’</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>encoded</strong> – Has keys:
‘dtype’:  str, of dtype
‘shape’:  tuple of shape
‘base64’: str, base64 encoded string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.array_to_string"><a name="//apple_ref/cpp/Function/trimesh.util.array_to_string"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">array_to_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">col_delim</span><span class="o">=</span><span class="default_value">' '</span></em>, <em class="sig-param"><span class="n">row_delim</span><span class="o">=</span><span class="default_value">'\n'</span></em>, <em class="sig-param"><span class="n">digits</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">value_format</span><span class="o">=</span><span class="default_value">'{}'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.array_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a 1 or 2D array into a string with a specified number
of digits and delimiter. The reason this exists is that the
basic numpy array to string conversions are surprisingly bad.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>(</em><em>n</em><em>,</em><em>) or </em><em>(</em><em>n</em><em>, </em><em>d</em><em>) </em><em>float</em><em> or </em><em>int</em>) – Data to be converted
If shape is (n,) only column delimiter will be used</p></li>
<li><p><strong>col_delim</strong> (<em>str</em>) – What string should separate values in a column</p></li>
<li><p><strong>row_delim</strong> (<em>str</em>) – What string should separate values in a row</p></li>
<li><p><strong>digits</strong> (<em>int</em>) – How many digits should floating point numbers include</p></li>
<li><p><strong>value_format</strong> (<em>str</em>) – Format string for each value or sequence of values
If multiple values per value_format it must divide
into array evenly.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>formatted</strong> – String representation of original array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.attach_to_log"><a name="//apple_ref/cpp/Function/trimesh.util.attach_to_log"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">attach_to_log</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">level</span><span class="o">=</span><span class="default_value">10</span></em>, <em class="sig-param"><span class="n">handler</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">loggers</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">colors</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">capture_warnings</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">blacklist</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.attach_to_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Attach a stream handler to all loggers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>level</strong> (<em>enum</em>) – Logging level, like logging.INFO</p></li>
<li><p><strong>handler</strong> (<em>None</em><em> or </em><em>logging.Handler</em>) – Handler to attach</p></li>
<li><p><strong>loggers</strong> (<em>None</em><em> or </em><em>(</em><em>n</em><em>,</em><em>) </em><em>logging.Logger</em>) – If None, will try to attach to all available</p></li>
<li><p><strong>colors</strong> (<em>bool</em>) – If True try to use colorlog formatter</p></li>
<li><p><strong>blacklist</strong> (<em>(</em><em>n</em><em>,</em><em>) </em><em>str</em>) – Names of loggers NOT to attach to</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.bounds_tree"><a name="//apple_ref/cpp/Function/trimesh.util.bounds_tree"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">bounds_tree</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bounds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.bounds_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of axis aligned bounds create an r-tree for
broad-phase collision detection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>bounds</strong> (<em>(</em><em>n</em><em>, </em><em>2D</em><em>) or </em><em>(</em><em>n</em><em>, </em><em>2</em><em>, </em><em>D</em><em>) </em><em>float</em>) – Non-interleaved bounds where D=dimension
E.G a 2D bounds tree:
[(minx, miny, maxx, maxy), …]</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tree</strong> – Tree containing bounds by index</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Rtree</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.comment_strip"><a name="//apple_ref/cpp/Function/trimesh.util.comment_strip"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">comment_strip</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">starts_with</span><span class="o">=</span><span class="default_value">'#'</span></em>, <em class="sig-param"><span class="n">new_line</span><span class="o">=</span><span class="default_value">'\n'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.comment_strip" title="Permalink to this definition">¶</a></dt>
<dd><p>Strip comments from a text block.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em>) – Text to remove comments from</p></li>
<li><p><strong>starts_with</strong> (<em>str</em>) – Character or substring that starts a comment</p></li>
<li><p><strong>new_line</strong> (<em>str</em>) – Character or substring that ends a comment</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stripped</strong> – Text with comments stripped</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.compress"><a name="//apple_ref/cpp/Function/trimesh.util.compress"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">compress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">info</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.compress" title="Permalink to this definition">¶</a></dt>
<dd><p>Compress data stored in a dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>info</strong> (<em>dict</em>) – Data to compress in form:
{file name in archive: bytes or file-like object}</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>compressed</strong> – Compressed file data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bytes</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.concatenate"><a name="//apple_ref/cpp/Function/trimesh.util.concatenate"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">concatenate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.concatenate" title="Permalink to this definition">¶</a></dt>
<dd><p>Concatenate two or more meshes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<a class="reference internal" href="trimesh.html#trimesh.Trimesh" title="trimesh.Trimesh"><em>trimesh.Trimesh</em></a>) – Mesh or list of meshes to be concatenated
object, or list of such</p></li>
<li><p><strong>b</strong> (<a class="reference internal" href="trimesh.html#trimesh.Trimesh" title="trimesh.Trimesh"><em>trimesh.Trimesh</em></a>) – Mesh or list of meshes to be concatenated</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – Concatenated mesh</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="trimesh.html#trimesh.Trimesh" title="trimesh.Trimesh">trimesh.Trimesh</a></p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.convert_like"><a name="//apple_ref/cpp/Function/trimesh.util.convert_like"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">convert_like</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em>, <em class="sig-param"><span class="n">like</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.convert_like" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an item to have the dtype of another item</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>item</strong> (<em>any</em>) – Item to be converted</p></li>
<li><p><strong>like</strong> (<em>any</em>) – Object with target dtype
If None, item is returned unmodified</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>item, but in dtype of like</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.decimal_to_digits"><a name="//apple_ref/cpp/Function/trimesh.util.decimal_to_digits"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">decimal_to_digits</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">decimal</span></em>, <em class="sig-param"><span class="n">min_digits</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.decimal_to_digits" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of digits to the first nonzero decimal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimal</strong> (<em>float</em>) – </p></li>
<li><p><strong>min_digits</strong> (<em>int</em><em>, </em><em>minimum number of digits to return</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>digits</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int, number of digits to the first nonzero decimal</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.decode_keys"><a name="//apple_ref/cpp/Function/trimesh.util.decode_keys"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">decode_keys</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">store</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.decode_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>If a dictionary has keys that are bytes decode them to a str.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>store</strong> (<em>dict</em>) – Dictionary with data</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – Values are untouched but keys that were bytes
are converted to ASCII strings.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>In [1]: d
Out[1]: {1020: ‘nah’, b’hi’: ‘stuff’}</p>
<p>In [2]: trimesh.util.decode_keys(d)
Out[2]: {1020: ‘nah’, ‘hi’: ‘stuff’}</p>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.decode_text"><a name="//apple_ref/cpp/Function/trimesh.util.decode_text"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">decode_text</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em>, <em class="sig-param"><span class="n">initial</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.decode_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to decode byte input as a string.</p>
<p>Tries initial guess (UTF-8) then if that fails it
uses chardet to try another guess before failing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>bytes</em>) – Data that might be a string</p></li>
<li><p><strong>initial</strong> (<em>str</em>) – Initial guess for text encoding.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>decoded</strong> – Data as a string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.decompress"><a name="//apple_ref/cpp/Function/trimesh.util.decompress"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">decompress</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_obj</span></em>, <em class="sig-param"><span class="n">file_type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.decompress" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an open file object and a file type, return all components
of the archive as open file objects in a dict.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_obj</strong> (<em>file-like</em>) – Containing compressed data</p></li>
<li><p><strong>file_type</strong> (<em>str</em>) – File extension, ‘zip’, ‘tar.gz’, etc</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>decompressed</strong> – Data from archive in format {file name : file-like}</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.diagonal_dot"><a name="//apple_ref/cpp/Function/trimesh.util.diagonal_dot"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">diagonal_dot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.diagonal_dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Dot product by row of a and b.</p>
<p>There are a lot of ways to do this though
performance varies very widely. This method
uses a dot product to sum the row and avoids
function calls if at all possible.</p>
<p>Comparing performance of some equivalent versions:
<a href="#id7"><span class="problematic" id="id8">``</span></a>`
In [1]: import numpy as np; import trimesh</p>
<p>In [2]: a = np.random.random((10000, 3))</p>
<p>In [3]: b = np.random.random((10000, 3))</p>
<p>In [4]: %timeit (a * b).sum(axis=1)
1000 loops, best of 3: 181 us per loop</p>
<p>In [5]: %timeit np.einsum(‘ij,ij-&gt;i’, a, b)
10000 loops, best of 3: 62.7 us per loop</p>
<p>In [6]: %timeit np.diag(np.dot(a, b.T))
1 loop, best of 3: 429 ms per loop</p>
<p>In [7]: %timeit np.dot(a * b, np.ones(a.shape[1]))
10000 loops, best of 3: 61.3 us per loop</p>
<p>In [8]: %timeit trimesh.util.diagonal_dot(a, b)
10000 loops, best of 3: 55.2 us per loop
<a href="#id9"><span class="problematic" id="id10">``</span></a><a href="#id11"><span class="problematic" id="id12">`</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>(</em><em>m</em><em>, </em><em>d</em><em>) </em><em>float</em>) – First array</p></li>
<li><p><strong>b</strong> (<em>(</em><em>m</em><em>, </em><em>d</em><em>) </em><em>float</em>) – Second array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – Dot product of each row</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(m,) float</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.distance_to_end"><a name="//apple_ref/cpp/Function/trimesh.util.distance_to_end"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">distance_to_end</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.distance_to_end" title="Permalink to this definition">¶</a></dt>
<dd><p>For an open file object how far is it to the end</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_obj</strong> (<em>open file-like object</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>distance</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int, bytes to end of file</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.encoded_to_array"><a name="//apple_ref/cpp/Function/trimesh.util.encoded_to_array"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">encoded_to_array</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">encoded</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.encoded_to_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a dictionary with base64 encoded strings back into a numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>encoded</strong> (<em>dict</em>) – <dl class="simple">
<dt>Has keys:</dt><dd><p>dtype: string of dtype
shape: int tuple of shape
base64: base64 encoded string of flat array
binary:  decode result coming from numpy.tobytes</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>array</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.euclidean"><a name="//apple_ref/cpp/Function/trimesh.util.euclidean"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">euclidean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.euclidean" title="Permalink to this definition">¶</a></dt>
<dd><p>Euclidean distance between vectors a and b.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>(</em><em>n</em><em>,</em><em>) </em><em>float</em>) – First vector</p></li>
<li><p><strong>b</strong> (<em>(</em><em>n</em><em>,</em><em>) </em><em>float</em>) – Second vector</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>distance</strong> – Euclidean distance between A and B</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.generate_basis"><a name="//apple_ref/cpp/Function/trimesh.util.generate_basis"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">generate_basis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">z</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.generate_basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an arbitrary basis (also known as a coordinate frame)
from a given z-axis vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>z</strong> (<em>(</em><em>3</em><em>,</em><em>) </em><em>float</em>) – A vector along the positive z-axis</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>(3,) float</em>) – Vector along x axis</p></li>
<li><p><strong>y</strong> (<em>(3,) float</em>) – Vector along y axis</p></li>
<li><p><strong>z</strong> (<em>(3,) float</em>) – Vector along z axis</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.grid_arange"><a name="//apple_ref/cpp/Function/trimesh.util.grid_arange"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">grid_arange</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bounds</span></em>, <em class="sig-param"><span class="n">step</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.grid_arange" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a grid from an (2,dimension) bounds with samples step distance apart.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds</strong> (<em>(</em><em>2</em><em>,</em><em>dimension</em><em>) </em><em>list of</em><em> [</em><em>[</em><em>min x</em><em>, </em><em>min y</em><em>, </em><em>etc</em><em>]</em><em>, </em><em>[</em><em>max x</em><em>, </em><em>max y</em><em>, </em><em>etc</em><em>]</em><em>]</em>) – </p></li>
<li><p><strong>step</strong> (<em>float</em><em>, or </em><em>(</em><em>dimension</em><em>) </em><em>floats</em><em>, </em><em>separation between points</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>grid</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n, dimension), points inside the specified bounds</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.grid_linspace"><a name="//apple_ref/cpp/Function/trimesh.util.grid_linspace"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">grid_linspace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">bounds</span></em>, <em class="sig-param"><span class="n">count</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.grid_linspace" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a grid spaced inside a bounding box with edges spaced using np.linspace.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bounds</strong> (<em>(</em><em>2</em><em>,</em><em>dimension</em><em>) </em><em>list of</em><em> [</em><em>[</em><em>min x</em><em>, </em><em>min y</em><em>, </em><em>etc</em><em>]</em><em>, </em><em>[</em><em>max x</em><em>, </em><em>max y</em><em>, </em><em>etc</em><em>]</em><em>]</em>) – </p></li>
<li><p><strong>count</strong> (<em>int</em><em>, or </em><em>(</em><em>dimension</em><em>,</em><em>) </em><em>int</em><em>, </em><em>number of samples per side</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>grid</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n, dimension) float, points in the specified bounds</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.has_module"><a name="//apple_ref/cpp/Function/trimesh.util.has_module"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">has_module</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.has_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if a module is installed by name without
actually importing the module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – The name of the module to check</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>installed</strong> – True if module is installed</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.hash_file"><a name="//apple_ref/cpp/Function/trimesh.util.hash_file"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">hash_file</code><span class="sig-paren">(</span><em class="sig-param">file_obj</em>, <em class="sig-param">hash_function=&lt;built-in function openssl_md5&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.hash_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the hash of an open file-like object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_obj</strong> (<em>file like object</em>) – </p></li>
<li><p><strong>hash_function</strong> (<em>function to use to hash data</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>hashed</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str, hex version of result</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_binary_file"><a name="//apple_ref/cpp/Function/trimesh.util.is_binary_file"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_binary_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_binary_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if file has non-ASCII characters (&gt; 0x7F, or 127)
Should work in both Python 2 and 3</p>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_ccw"><a name="//apple_ref/cpp/Function/trimesh.util.is_ccw"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_ccw</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_ccw" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if connected 2D points are counterclockwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>points</strong> (<em>(</em><em>n</em><em>, </em><em>2</em><em>) </em><em>float</em>) – Connected points on a plane</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ccw</strong> – True if points are counter-clockwise</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_file"><a name="//apple_ref/cpp/Function/trimesh.util.is_file"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if an object is file-like</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – Any object type to be checked</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>is_file</strong> – True if object is a file</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_instance_named"><a name="//apple_ref/cpp/Function/trimesh.util.is_instance_named"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_instance_named</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_instance_named" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an object, if it is a member of the class ‘name’,
or a subclass of ‘name’, return True.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>instance</em>) – Some object of some class</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the class we want to check for</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>is_instance</strong> – Whether the object is a member of the named class</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_none"><a name="//apple_ref/cpp/Function/trimesh.util.is_none"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_none</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_none" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if an object is None or not.</p>
<p>Handles the case of np.array(None) as well.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – Any object type to be checked</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>is_none</strong> – True if obj is None or numpy None-like</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_pathlib"><a name="//apple_ref/cpp/Function/trimesh.util.is_pathlib"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_pathlib</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_pathlib" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the object is a <cite>pathlib.Path</cite> or subclass.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – Object to be checked</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>is_pathlib</strong> – Is the input object a pathlib path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_sequence"><a name="//apple_ref/cpp/Function/trimesh.util.is_sequence"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_sequence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if an object is a sequence or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – Any object type to be checked</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>is_sequence</strong> – True if object is sequence</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_shape"><a name="//apple_ref/cpp/Function/trimesh.util.is_shape"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_shape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">allow_zeros</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Compare the shape of a numpy.ndarray to a target shape,
with any value less than zero being considered a wildcard</p>
<p>Note that if a list-like object is passed that is not a numpy
array, this function will not convert it and will return False.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>np.ndarray</em>) – Array to check the shape on</p></li>
<li><p><strong>shape</strong> (<em>list</em><em> or </em><em>tuple</em>) – Any negative term will be considered a wildcard
Any tuple term will be evaluated as an OR</p></li>
<li><p><strong>allow_zeros</strong> (<em>bool</em>) – if False, zeros do not match negatives in shape</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>shape_ok</strong> – True if shape of obj matches query shape</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>In [1]: a = np.random.random((100, 3))</p>
<p>In [2]: a.shape
Out[2]: (100, 3)</p>
<p>In [3]: trimesh.util.is_shape(a, (-1, 3))
Out[3]: True</p>
<p>In [4]: trimesh.util.is_shape(a, (-1, 3, 5))
Out[4]: False</p>
<p>In [5]: trimesh.util.is_shape(a, (100, -1))
Out[5]: True</p>
<p>In [6]: trimesh.util.is_shape(a, (-1, (3, 4)))
Out[6]: True</p>
<p>In [7]: trimesh.util.is_shape(a, (-1, (4, 5)))
Out[7]: False</p>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.is_string"><a name="//apple_ref/cpp/Function/trimesh.util.is_string"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">is_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.is_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if an object is a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – Any object type to be checked</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>is_string</strong> – True if obj is a string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.isclose"><a name="//apple_ref/cpp/Function/trimesh.util.isclose"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">isclose</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">a</span></em>, <em class="sig-param"><span class="n">b</span></em>, <em class="sig-param"><span class="n">atol</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.isclose" title="Permalink to this definition">¶</a></dt>
<dd><p>A replacement for np.isclose that does fewer checks
and validation and as a result is roughly 4x faster.</p>
<p>Note that this is used in tight loops, and as such
a and b MUST be np.ndarray, not list or “array-like”</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>np.ndarray</em>) – To be compared</p></li>
<li><p><strong>b</strong> (<em>np.ndarray</em>) – To be compared</p></li>
<li><p><strong>atol</strong> (<em>float</em>) – Acceptable distance between <cite>a</cite> and <cite>b</cite> to be “close”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>close</strong> – Per-element closeness</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray, bool</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.jsonify"><a name="//apple_ref/cpp/Function/trimesh.util.jsonify"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">jsonify</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.jsonify" title="Permalink to this definition">¶</a></dt>
<dd><p>A version of json.dumps that can handle numpy arrays
by creating a custom encoder for numpy dtypes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>JSON-serializable blob</em>) – </p></li>
<li><p><strong>**kwargs</strong> – Passed to json.dumps</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dumped</strong> – JSON dump of obj</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.make_sequence"><a name="//apple_ref/cpp/Function/trimesh.util.make_sequence"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">make_sequence</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.make_sequence" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an object, if it is a sequence return, otherwise
add it to a length 1 sequence and return.</p>
<p>Useful for wrapping functions which sometimes return single
objects and other times return lists of objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – An object to be made a sequence</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>as_sequence</strong> – Contains input value</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n,) sequence</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.md5_object"><a name="//apple_ref/cpp/Function/trimesh.util.md5_object"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">md5_object</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.md5_object" title="Permalink to this definition">¶</a></dt>
<dd><p>If an object is hashable, return the string of the MD5.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> (<em>object</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>md5</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str, MD5 hash</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.multi_dict"><a name="//apple_ref/cpp/Function/trimesh.util.multi_dict"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">multi_dict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pairs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.multi_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a set of key value pairs, create a dictionary.
If a key occurs multiple times, stack the values into an array.</p>
<p>Can be called like the regular dict(pairs) constructor</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pairs</strong> (<em>(</em><em>n</em><em>, </em><em>2</em><em>) </em><em>array of key</em><em>, </em><em>value pairs</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict, with all values stored (rather than last with regular dict)</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.pairwise"><a name="//apple_ref/cpp/Function/trimesh.util.pairwise"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">pairwise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterable</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.pairwise" title="Permalink to this definition">¶</a></dt>
<dd><p>For an iterable, group values into pairs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iterable</strong> (<em>(</em><em>m</em><em>, </em><em>) </em><em>list</em>) – A sequence of values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>pairs</strong> – Pairs of sequential values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n, 2)</p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>In [1]: data
Out[1]: [0, 1, 2, 3, 4, 5, 6]</p>
<p>In [2]: list(trimesh.util.pairwise(data))
Out[2]: [(0, 1), (1, 2), (2, 3), (3, 4), (4, 5), (5, 6)]</p>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.row_norm"><a name="//apple_ref/cpp/Function/trimesh.util.row_norm"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">row_norm</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.row_norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the norm per-row of a numpy array.</p>
<p>This is identical to np.linalg.norm(data, axis=1) but roughly
three times faster due to being less general.</p>
<p>In [3]: %timeit trimesh.util.row_norm(a)
76.3 us +/- 651 ns per loop</p>
<p>In [4]: %timeit np.linalg.norm(a, axis=1)
220 us +/- 5.41 us per loop</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>(</em><em>n</em><em>, </em><em>d</em><em>) </em><em>float</em>) – Input 2D data to calculate per-row norm of</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>norm</strong> – Norm of each row of input array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n,) float</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.sigfig_int"><a name="//apple_ref/cpp/Function/trimesh.util.sigfig_int"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">sigfig_int</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span></em>, <em class="sig-param"><span class="n">sigfig</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.sigfig_int" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a set of floating point values into integers with a specified number
of significant figures and an exponent.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>(</em><em>n</em><em>,</em><em>) </em><em>float</em><em> or </em><em>int</em>) – Array of values</p></li>
<li><p><strong>sigfig</strong> (<em>(</em><em>n</em><em>,</em><em>) </em><em>int</em>) – Number of significant figures to keep</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>as_int</strong> (<em>(n,) int</em>) – Every value[i] has sigfig[i] digits</p></li>
<li><p><strong>multiplier</strong> (<em>(n, int)</em>) – Exponent, so as_int * 10 ** multiplier is
the same order of magnitude as the input</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.sigfig_round"><a name="//apple_ref/cpp/Function/trimesh.util.sigfig_round"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">sigfig_round</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">values</span></em>, <em class="sig-param"><span class="n">sigfig</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.sigfig_round" title="Permalink to this definition">¶</a></dt>
<dd><p>Round a single value to a specified number of significant figures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<em>float</em>) – Value to be rounded</p></li>
<li><p><strong>sigfig</strong> (<em>int</em>) – Number of significant figures to reduce to</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>rounded</strong> – Value rounded to the specified number of significant figures</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>In [1]: trimesh.util.round_sigfig(-232453.00014045456, 1)
Out[1]: -200000.0</p>
<p>In [2]: trimesh.util.round_sigfig(.00014045456, 1)
Out[2]: 0.0001</p>
<p>In [3]: trimesh.util.round_sigfig(.00014045456, 4)
Out[3]: 0.0001405</p>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.spherical_to_vector"><a name="//apple_ref/cpp/Function/trimesh.util.spherical_to_vector"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">spherical_to_vector</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">spherical</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.spherical_to_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a set of (n, 2) spherical vectors to (n, 3) vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>spherical</strong> (<em>(</em><em>n</em><em> , </em><em>2</em><em>) </em><em>float</em>) – Angles, in radians</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vectors</strong> – Unit vectors</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n, 3) float</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.split_extension"><a name="//apple_ref/cpp/Function/trimesh.util.split_extension"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">split_extension</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_name</span></em>, <em class="sig-param"><span class="n">special</span><span class="o">=</span><span class="default_value">['tar.bz2', 'tar.gz']</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.split_extension" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the file extension of a file name, including support for
special case multipart file extensions (like .tar.gz)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – File name</p></li>
<li><p><strong>special</strong> (<em>list of str</em>) – Multipart extensions
eg: [‘tar.bz2’, ‘tar.gz’]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>extension</strong> – Last characters after a period, or
a value from ‘special’</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.stack_3D"><a name="//apple_ref/cpp/Function/trimesh.util.stack_3D"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">stack_3D</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">return_2D</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.stack_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>For a list of (n, 2) or (n, 3) points return them
as (n, 3) 3D points, 2D points on the XY plane.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<em>(</em><em>n</em><em>, </em><em>2</em><em>) or </em><em>(</em><em>n</em><em>, </em><em>3</em><em>) </em><em>float</em>) – Points in either 2D or 3D space</p></li>
<li><p><strong>return_2D</strong> (<em>bool</em>) – Were the original points 2D?</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>points</strong> (<em>(n, 3) float</em>) – Points in space</p></li>
<li><p><strong>is_2D</strong> (<em>bool</em>) – [OPTIONAL] if source points were (n, 2)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.stack_lines"><a name="//apple_ref/cpp/Function/trimesh.util.stack_lines"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">stack_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">indices</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.stack_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Stack a list of values that represent a polyline into
individual line segments with duplicated consecutive values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>indices</strong> (<em>(</em><em>m</em><em>,</em><em>) </em><em>any</em>) – List of items to be stacked</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stacked</strong> – Stacked items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n, 2) any</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>In [1]: trimesh.util.stack_lines([0, 1, 2])
Out[1]:
array([[0, 1],</p>
<blockquote>
<div><p>[1, 2]])</p>
</div></blockquote>
<p>In [2]: trimesh.util.stack_lines([0, 1, 2, 4, 5])
Out[2]:
array([[0, 1],</p>
<blockquote>
<div><p>[1, 2],
[2, 4],
[4, 5]])</p>
</div></blockquote>
<p>In [3]: trimesh.util.stack_lines([[0, 0], [1, 1], [2, 2], [3, 3]])
Out[3]:
array([[0, 0],</p>
<blockquote>
<div><p>[1, 1],
[1, 1],
[2, 2],
[2, 2],
[3, 3]])</p>
</div></blockquote>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.structured_array_to_string"><a name="//apple_ref/cpp/Function/trimesh.util.structured_array_to_string"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">structured_array_to_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array</span></em>, <em class="sig-param"><span class="n">col_delim</span><span class="o">=</span><span class="default_value">' '</span></em>, <em class="sig-param"><span class="n">row_delim</span><span class="o">=</span><span class="default_value">'\n'</span></em>, <em class="sig-param"><span class="n">digits</span><span class="o">=</span><span class="default_value">8</span></em>, <em class="sig-param"><span class="n">value_format</span><span class="o">=</span><span class="default_value">'{}'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.structured_array_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an unstructured array into a string with a specified
number of digits and delimiter. The reason thisexists is
that the basic numpy array to string conversionsare
surprisingly bad.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>array</strong> (<em>(</em><em>n</em><em>,</em><em>) or </em><em>(</em><em>n</em><em>, </em><em>d</em><em>) </em><em>float</em><em> or </em><em>int</em>) – Data to be converted
If shape is (n,) only column delimiter will be used</p></li>
<li><p><strong>col_delim</strong> (<em>str</em>) – What string should separate values in a column</p></li>
<li><p><strong>row_delim</strong> (<em>str</em>) – What string should separate values in a row</p></li>
<li><p><strong>digits</strong> (<em>int</em>) – How many digits should floating point numbers include</p></li>
<li><p><strong>value_format</strong> (<em>str</em>) – Format string for each value or sequence of values
If multiple values per value_format it must divide
into array evenly.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>formatted</strong> – String representation of original array</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.submesh"><a name="//apple_ref/cpp/Function/trimesh.util.submesh"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">submesh</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mesh</span></em>, <em class="sig-param"><span class="n">faces_sequence</span></em>, <em class="sig-param"><span class="n">repair</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">only_watertight</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">min_faces</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">append</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.submesh" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a subset of a mesh.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mesh</strong> (<a class="reference internal" href="trimesh.html#trimesh.Trimesh" title="trimesh.Trimesh"><em>Trimesh</em></a>) – Source mesh to take geometry from</p></li>
<li><p><strong>faces_sequence</strong> (<em>sequence</em><em> (</em><em>p</em><em>,</em><em>) </em><em>int</em>) – Indexes of mesh.faces</p></li>
<li><p><strong>only_watertight</strong> (<em>bool</em>) – Only return submeshes which are watertight.</p></li>
<li><p><strong>append</strong> (<em>bool</em>) – Return a single mesh which has the faces appended,
if this flag is set, only_watertight is ignored</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>if append</strong> (<em>Trimesh object</em>)</p></li>
<li><p><em>else        list of Trimesh objects</em></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.to_ascii"><a name="//apple_ref/cpp/Function/trimesh.util.to_ascii"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">to_ascii</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">text</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.to_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a string or other to ASCII text ignoring errors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>text</strong> (<em>any</em>) – Input to be converted to ASCII string</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>ascii</strong> – Input as an ASCII string</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.tolist"><a name="//apple_ref/cpp/Function/trimesh.util.tolist"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">tolist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.tolist" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that any arrays or dicts passed containing
numpy arrays are properly converted to lists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>any</em>) – Usually a dict with some numpy arrays as values</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – JSON-serializable version of data</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>any</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.triangle_strips_to_faces"><a name="//apple_ref/cpp/Function/trimesh.util.triangle_strips_to_faces"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">triangle_strips_to_faces</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">strips</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.triangle_strips_to_faces" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a sequence of triangle strips to (n, 3) faces.</p>
<p>Processes all strips at once using np.concatenate and is significantly
faster than loop-based methods.</p>
<p>From the OpenGL programming guide describing a single triangle
strip [v0, v1, v2, v3, v4]:</p>
<p>Draws a series of triangles (three-sided polygons) using vertices
v0, v1, v2, then v2, v1, v3  (note the order), then v2, v3, v4,
and so on. The ordering is to ensure that the triangles are all
drawn with the same orientation so that the strip can correctly form
part of a surface.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>strips</strong> (<em>(</em><em>n</em><em>,</em><em>) </em><em>list of</em><em> (</em><em>m</em><em>,</em><em>) </em><em>int</em>) – Vertex indices</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>faces</strong> – Vertex indices representing triangles</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(m, 3) int</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.type_bases"><a name="//apple_ref/cpp/Function/trimesh.util.type_bases"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">type_bases</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">depth</span><span class="o">=</span><span class="default_value">4</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.type_bases" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the bases of the object passed.</p>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.type_named"><a name="//apple_ref/cpp/Function/trimesh.util.type_named"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">type_named</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obj</span></em>, <em class="sig-param"><span class="n">name</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.type_named" title="Permalink to this definition">¶</a></dt>
<dd><p>Similar to the type() builtin, but looks in class bases
for named instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> (<em>object to look for class of</em>) – </p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>name of class</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>named class, or None</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.unique_id"><a name="//apple_ref/cpp/Function/trimesh.util.unique_id"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">unique_id</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">length</span><span class="o">=</span><span class="default_value">12</span></em>, <em class="sig-param"><span class="n">increment</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.unique_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a decent looking alphanumeric unique identifier.
First 16 bits are time-incrementing, followed by randomness.</p>
<p>This function is used as a nicer looking alternative to:
&gt;&gt;&gt; uuid.uuid4().hex</p>
<p>Follows the advice in:
<a class="reference external" href="https://eager.io/blog/how-long-does-an-id-need-to-be/">https://eager.io/blog/how-long-does-an-id-need-to-be/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>length</strong> (<em>int</em>) – Length of desired identifier</p></li>
<li><p><strong>increment</strong> (<em>int</em>) – Number to add to header uint16
useful if calling this function repeatedly
in a tight loop executing faster than time
can increment the header</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>unique</strong> – Unique alphanumeric identifier</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.unitize"><a name="//apple_ref/cpp/Function/trimesh.util.unitize"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">unitize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vectors</span></em>, <em class="sig-param"><span class="n">check_valid</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">threshold</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.unitize" title="Permalink to this definition">¶</a></dt>
<dd><p>Unitize a vector or an array or row-vectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vectors</strong> (<em>(</em><em>n</em><em>,</em><em>m</em><em>) or </em><em>(</em><em>j</em><em>) </em><em>float</em>) – Vector or vectors to be unitized</p></li>
<li><p><strong>check_valid</strong> (<em>bool</em>) – If set, will return mask of nonzero vectors</p></li>
<li><p><strong>threshold</strong> (<em>float</em>) – Cutoff for a value to be considered zero.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>unit</strong> (<em>(n,m) or (j) float</em>) – Input vectors but unitized</p></li>
<li><p><strong>valid</strong> (<em>(n,) bool or bool</em>) – Mask of nonzero vectors returned if <cite>check_valid</cite></p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.vector_hemisphere"><a name="//apple_ref/cpp/Function/trimesh.util.vector_hemisphere"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">vector_hemisphere</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vectors</span></em>, <em class="sig-param"><span class="n">return_sign</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.vector_hemisphere" title="Permalink to this definition">¶</a></dt>
<dd><p>For a set of 3D vectors alter the sign so they are all in the
upper hemisphere.</p>
<p>If the vector lies on the plane all vectors with negative Y
will be reversed.</p>
<p>If the vector has a zero Z and Y value vectors with a
negative X value will be reversed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vectors</strong> (<em>(</em><em>n</em><em>, </em><em>3</em><em>) </em><em>float</em>) – Input vectors</p></li>
<li><p><strong>return_sign</strong> (<em>bool</em>) – Return the sign mask or not</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>oriented</strong> (<em>(n, 3) float</em>) – Vectors with same magnitude as source
but possibly reversed to ensure all vectors
are in the same hemisphere.</p></li>
<li><p><strong>sign</strong> (<em>(n,) float</em>) – [OPTIONAL] sign of original vectors</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.vector_to_spherical"><a name="//apple_ref/cpp/Function/trimesh.util.vector_to_spherical"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">vector_to_spherical</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cartesian</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.vector_to_spherical" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a set of cartesian points to (n, 2) spherical unit
vectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cartesian</strong> (<em>(</em><em>n</em><em>, </em><em>3</em><em>) </em><em>float</em>) – Points in space</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>spherical</strong> – Angles, in radians</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n, 2) float</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.vstack_empty"><a name="//apple_ref/cpp/Function/trimesh.util.vstack_empty"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">vstack_empty</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tup</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.vstack_empty" title="Permalink to this definition">¶</a></dt>
<dd><p>A thin wrapper for numpy.vstack that ignores empty lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tup</strong> (<em>tuple</em><em> or </em><em>list of arrays</em>) – With the same number of columns</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>stacked</strong> – With same number of columns as
constituent arrays.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(n, d) array</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.wrap_as_stream"><a name="//apple_ref/cpp/Function/trimesh.util.wrap_as_stream"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">wrap_as_stream</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.wrap_as_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap a string or bytes object as a file object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>item</strong> (<em>str</em><em> or </em><em>bytes</em>) – Item to be wrapped</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>wrapped</strong> – Contains data from item</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>file-like object</p>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.write_encoded"><a name="//apple_ref/cpp/Function/trimesh.util.write_encoded"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">write_encoded</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_obj</span></em>, <em class="sig-param"><span class="n">stuff</span></em>, <em class="sig-param"><span class="n">encoding</span><span class="o">=</span><span class="default_value">'utf-8'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.write_encoded" title="Permalink to this definition">¶</a></dt>
<dd><p>If a file is open in binary mode and a
string is passed, encode and write.</p>
<p>If a file is open in text mode and bytes are
passed decode bytes to str and write.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_obj</strong> (<em>file object</em>) – With ‘write’ and ‘mode’</p></li>
<li><p><strong>stuff</strong> (<em>str</em><em> or </em><em>bytes</em>) – Stuff to be written</p></li>
<li><p><strong>encoding</strong> (<em>str</em>) – Encoding of text</p></li>
</ul>
</dd>
</dl>
</dd></dl>
<dl class="py function">
<dt id="trimesh.util.zero_pad"><a name="//apple_ref/cpp/Function/trimesh.util.zero_pad"></a>
<code class="sig-prename descclassname">trimesh.util.</code><code class="sig-name descname">zero_pad</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">count</span></em>, <em class="sig-param"><span class="n">right</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#trimesh.util.zero_pad" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>(</em><em>n</em><em>,</em><em>)</em>) – 1D array</p></li>
<li><p><strong>count</strong> (<em>int</em>) – Minimum length of result array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>padded</strong> – 1D array where m &gt;= count</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(m,)</p>
</dd>
</dl>
</dd></dl>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="trimesh.version.html" rel="next" title="trimesh.version">Next <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="trimesh.unwrap.html" rel="prev" title="trimesh.unwrap"><span class="fa fa-arrow-circle-left"></span> Previous</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        
        © Copyright 2020, Michael Dawson-Haggerty

    </p>
</div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
<!-- Theme Analytics -->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-161434837-1', 'auto');
    ga('send', 'pageview');
    </script>
</body>
</html>